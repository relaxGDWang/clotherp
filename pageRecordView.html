<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0">
    <title>随手e裁--布卷详情</title>
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon"/>
    <!-- build:css library/style/webcommon.css -->
    <link rel="stylesheet" href="library/style/font-awesome.css"/>
    <link rel="stylesheet" href="library/style/elementui2.4.11.css"/>
    <link rel="stylesheet" href="library/style/animate.css"/>
    <link rel="stylesheet" href="library/style/cssreset3.css"/>
    <!-- endbuild -->
    <!-- build:css style/recordview.css -->
    <link rel="stylesheet" href="style/recordview.css"/>
    <!-- endbuild -->
    <!-- build:js script/configBG.js -->
    <script src="script/configBG.js"></script>
    <!-- endbuild -->
    <!-- build:js script/common.js -->
    <script src="script/common.js"></script>
    <!-- endbuild -->
</head>
<body class="app">
    <div class="outFrame" id="app">
        <div class="main">
            <div class="occupation" v-if="!editObject.bolt_id">
                <div class="emptyShow heartBeat">
                    <span class="logoSvg"></span>
                    <span class="titleSvg"></span>
                    <span class="ver"></span>
                    <!--<span class="page">操作记录详情界面</span>-->
                </div>
            </div>
            <div class="dialog-title">
                <span class="right opBtn btn-close" @click="thisClose()">&times;</span>
            </div>
            <div class="dialog-content">
                <div class="baseInfo" v-if="editObject.bolt_id">
                    <div class="title">布卷详情</div>
                    <div class="buttonBar">
                        <button class="rexButton" color="ok" @click="printRequest(editObject.print_data,1)"><span class="fa fa-barcode"></span> 打印标签</button>
                        <button class="rexButton" color="info" @click="gotoURLClick(editObject,'check')"><span class="fa fa-instagram"></span> 重新检验</button>
                        <button class="rexButton" color="warning" @click="gotoURLClick(editObject,'cut')"><span class="fa fa-cut"></span> 继续裁剪</button>
                    </div>
                    <ul class="nohead">
                        <li><label>货号：</label><span>{{editObject.product_code}}</span></li>
                        <li><label>卷号：</label><span>{{editObject.bolt_no}}</span></li>
                        <li><label>仓位：</label><span>{{editObject.position.join(',') || '--'}}</span></li>
                        <li><label>流程：</label><span>{{editObject.craft}}</span></li>
                        <li><label>布长：</label><span>{{editObject.current_length}}米</span></li>
                        <template v-if="editObject.examine==='已检验'">
                            <li class="clearLeft"><label>状态：</label><span>{{editObject.examine}}</span></li>
                            <li><label>检验人：</label><span>{{editObject.examiner}}</span></li>
                            <li><label>日期：</label><span>{{editObject.examined_at}}</span></li>
                        </template>
                        <template v-if="editObject.examine!=='已检验'">
                            <li class="clearLeft"><label>状态：</label><span>该布匹还没有经过检验</span></li>
                        </template>
                    </ul>
                </div>
                <h3><span class="fa fa-calendar"></span> 操作记录</h3>
                <div class="recordListShow">
                    <ul class="nohead" v-if="editObject.history && editObject.history.length>0">
                        <li class="th">
                            <span></span><span>时间</span><span>操作人</span><span>操作类型</span><span>操作内容</span><span>操作</span>
                        </li>
                        <li v-for="(item, index) in editObject.history">
                            <span>{{index+1}}</span>
                            <span>{{item.updated_at}}</span>
                            <span>{{item.user}}</span>
                            <span class="fa" :class="item.action_type_icon"> {{item.action_type}}</span>
                            <span>{{item.content}}</span>
                            <span>
                                <button class="rexButton" v-if="item.print_data" @click="printRequest(item.print_data,1)">打印标签</button>
                                <button class="rexButton" v-if="item.action_type==='分裁'" @click="gotoURLClick(item,'check')">重新检验</button>
                            </span>
                        </li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- ajax加载提示框 -->
        <div class="extDialog" id="loading" noclick="noclick">
            <div class="dialogFrame">
                <div class="dialog-content">
                    <div class="loadingBlock"><div></div><div></div><div></div><div></div><div></div></div> <span class="diy">正在加载数据，请稍等...</span>
                </div>
            </div>
        </div>

        <!-- ajax出错信息提示 -->
        <div class="extDialog" id="information" noclick="noclick">
            <div class="dialogFrame">
                <div class="dialog-title">
                    <h4><span class="fa fa-info-circle"></span> 系统信息提示</h4>
                </div>
                <div class="dialog-buttonBar">
                    <button class="rexButton opBtn btn-close">取消</button>
                    <button class="rexButton opBtn btn-cancel">不合格</button>
                    <button class="rexButton opBtn btn-sure">确定</button>
                </div>
                <div class="dialog-content">
                    <div class="diy"></div>
                </div>
            </div>
        </div>

        <!-- 轻量信息提示 -->
        <div class="miniDialog bottom" id="resultShow">
            <div class="dialog-content">
                <span class="diy"></span>
            </div>
        </div>
    </div>

    <!-- build:js library/js/webcommon.js -->
    <script src="library/js/jquery.min.js"></script>
    <script src="library/js/vue.min.js"></script>
    <script src="library/js/rexfunction.js"></script>
    <script src="library/js/rexajax2.js"></script>
    <script src="library/js/rexdialog.js"></script>
    <script src="library/js/elementui2.4.11.js"></script>
    <!-- endbuild -->
    <!-- build:js script/recordview.js -->
    <script src="/script/recordview.js"></script>
    <!-- endbuild -->
</body>
</html>